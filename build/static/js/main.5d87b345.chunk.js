(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{17:function(e,n,t){e.exports=t(40)},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(15),l=t.n(o),c=t(16),u=t(2),i=function(e){var n=e.filter,t=e.toFilterChange;return r.a.createElement("input",{value:n,onChange:t})},m=function(e){var n=e.submit,t=e.newName,a=e.nameChange,o=e.newNumber,l=e.numberChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a}),r.a.createElement("br",null),"number: ",r.a.createElement("input",{value:o,onChange:l})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=function(e){var n=e.persons,t=e.newFilter,a=e.del;return r.a.createElement(r.a.Fragment,null,n.filter((function(e){return!0===e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("p",null,e.name," ",e.number," ",r.a.createElement("button",{onClick:a,value:e.name},"delete")))})))},f=t(4),d=t.n(f),b="/api/persons",g=function(){return d.a.get(b).then((function(e){return e.data}))},p=function(e){return d.a.post(b,e).then((function(e){return e.data}))},h=function(e,n){return d.a.put("".concat(b,"/").concat(n),e).then((function(e){return e.data}))},v=function(e){d.a.delete("".concat(b,"/").concat(e))},E=(t(39),function(e){var n=e.msg;return null===n?null:r.a.createElement("div",{className:"success"},r.a.createElement("p",null,n))}),w=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],l=Object(a.useState)(""),f=Object(u.a)(l,2),d=f[0],b=f[1],w=Object(a.useState)(""),j=Object(u.a)(w,2),C=j[0],O=j[1],N=Object(a.useState)(""),k=Object(u.a)(N,2),S=k[0],F=k[1],y=Object(a.useState)(null),A=Object(u.a)(y,2),J=A[0],L=A[1];Object(a.useEffect)((function(){console.log("effect"),g().then((function(e){console.log("promise fulfilled"),o(e)}))}),[]),console.log("render",t.length,"notes");var P=function(e){v(e)};return r.a.createElement("div",null,r.a.createElement(E,{msg:J}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(i,{filter:S,toFilterChange:function(e){F(e.target.value)}}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(m,{submit:function(e){e.preventDefault();var n=!1;if(t.forEach((function(e){e.name===d&&(n=!0,console.log("samePeep",n))})),!0===n){var a=window.confirm("".concat(d," is already added to phonebook, replace the odd number with the new one?"));console.log(a);var r={name:d,number:C};console.log("personName",r),console.log("persons",t.filter((function(e){return e.name===r.name}))[0].id),h(r,t.map((function(e){return e})).filter((function(e){return e.name===d}))[0].id).then((function(e){console.log("response",e),o(t.map((function(e){return e.name!==d?e:e=r}))),console.log(t),b(""),O("")}))}else{p({name:d,number:C}).then((function(e){console.log(e),o(t.concat(e))})),L("Added ".concat(d)),setTimeout((function(){L(null)}),5e3),b(""),O("")}},newName:d,nameChange:function(e){b(e.target.value)},newNumber:C,numberChange:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(s,{persons:Object(c.a)(t),newFilter:S,del:function(e){var n=window.confirm("delete ".concat(e.target.value,"?"));console.log(n),console.log(t.filter((function(n){return n.name===e.target.value}))[0].id),P(t.filter((function(n){return n.name===e.target.value}))[0].id)}}))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.5d87b345.chunk.js.map